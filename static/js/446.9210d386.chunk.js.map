{"version":3,"file":"static/js/446.9210d386.chunk.js","mappings":"6QAGaA,EAAU,SAAHC,GAAkB,IAAZC,EAAID,EAAJC,KACxB,OACEC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACEF,EAAAA,EAAAA,KAACG,EAAAA,EAAa,CAAAD,SACXH,EAAKK,KAAI,SAAAC,GAAG,OACXL,EAAAA,EAAAA,KAACM,EAAAA,EAAO,CAACC,QAASF,GAAUA,EAAIG,GAAM,OAKhD,E,SCXaC,E,QAAUC,GAAAA,OAAaC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,wUAKzB,SAAAd,GAAkB,OAAAA,EAAfe,MAASC,OAAsBC,WAAW,IAMhD,SAAAC,GAAsB,OAAAA,EAAnBH,MAASI,WAA8BC,cAAc,IAC9C,SAAAC,GAAsB,OAAAA,EAAnBN,MAASI,WAA8BC,cAAc,IAG7D,SAAAE,GAAkB,OAAAA,EAAfP,MAASC,OAAsBO,UAAU,I,8BCsGzD,EA1GgB,WACd,IAAMC,GAAWC,EAAAA,EAAAA,MACjBC,GAUIC,EAAAA,EAAAA,KATFC,EAAOF,EAAPE,QACAC,EAAgBH,EAAhBG,iBACAC,EAAQJ,EAARI,SACAC,EAAWL,EAAXK,YACAC,EAAWN,EAAXM,YACAC,EAAWP,EAAXO,YACAC,EAASR,EAATQ,UACAC,EAAST,EAATS,UACAC,EAAKV,EAALU,MAEFC,GAAwBC,EAAAA,EAAAA,UAAS,GAAEC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA5BI,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GACpBI,GAAoCL,EAAAA,EAAAA,WAAS,GAAMM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA5CE,EAAUD,EAAA,GAAEE,EAAaF,EAAA,IAEhCG,EAAAA,EAAAA,YAAU,WAEJnB,EAAQoB,OAAS,GACnBC,OAAOC,SAAS,CACdC,IAHW,IAGG,IACdC,SAAU,UAGhB,GAAG,CAACxB,KAEJmB,EAAAA,EAAAA,YAAU,WACRvB,GAAS6B,EAAAA,EAAAA,OACTP,GAAc,EAChB,GAAG,CAACtB,KAEJuB,EAAAA,EAAAA,YAAU,WACRvB,GAAS8B,EAAAA,EAAAA,GAAWb,IACpBK,GAAc,EAChB,GAAG,CAACtB,EAAUiB,KAEdM,EAAAA,EAAAA,YAAU,WACJjB,GACFN,GAAS+B,EAAAA,EAAAA,KAEb,GAAG,CAAC/B,EAAUM,IAEd,IAIM0B,EAAe3B,EAAiB4B,QAAO,SAAAlD,GAC3C,IAAImD,GAAU,EAId,GAHI3B,IACF2B,EAAUnD,EAAIoD,OAAS5B,GAErBC,EAAa,CACf,IAAM4B,EAAQ5B,EAAY4B,MAAM,WAC1BC,EAAoBtD,EAAIuD,YAAYF,MAAM,WAC1CG,EAAaH,EAAM,GACnBI,EAAmBH,EAAkB,GAErCI,OAAOF,IAAaE,OAAOD,KAC/BN,GAAU,EAEd,CAmBA,OAlBIzB,IACI1B,EAAI2D,SAAWjC,IACnByB,GAAU,IAIVxB,IACI3B,EAAI2D,SAAWhC,IACnBwB,GAAU,IAIVzB,GAAeC,IACX3B,EAAI2D,SAAWjC,GAAe1B,EAAI2D,SAAWhC,IACjDwB,GAAU,IAIPA,CACT,IAEMS,EACJvC,EAAQoB,OAAS,GAAKP,IAASN,GAAaU,IAAef,EAEvDsC,EAAetC,EAAW0B,EAAe5B,EAE/C,OACEyC,EAAAA,EAAAA,MAACC,EAAAA,GAAa,CAAAlE,SAAA,CACX+B,IAAcC,IAASlC,EAAAA,EAAAA,KAACqE,EAAAA,EAAO,KAChCrE,EAAAA,EAAAA,KAACsE,EAAAA,EAAM,KACPH,EAAAA,EAAAA,MAAA,WAAAjE,SAAA,CAC2B,IAAxBoD,EAAaR,QAAgBlB,GAC5B5B,EAAAA,EAAAA,KAACuE,EAAAA,EAAK,CAACC,aAAa,KAEpBxE,EAAAA,EAAAA,KAACH,EAAO,CAACE,KAAMmE,IAGhBD,IACCjE,EAAAA,EAAAA,KAACS,EAAO,CAACgE,QAzDW,WAC1BjC,GAAQ,SAAAkC,GAAI,OAAIA,EAAO,CAAC,GAC1B,EAuD8CxE,SAAC,mBAKjD,C","sources":["components/CarList/CarList.jsx","pages/Catalog/Catalog.styled.jsx","pages/Catalog/Catalog.jsx"],"sourcesContent":["import { CarItem } from 'components/CarItem';\r\nimport { CartListStyle } from './CartList.styled';\r\n\r\nexport const CarList = ({ data }) => {\r\n  return (\r\n    <>\r\n      <CartListStyle>\r\n        {data.map(car => (\r\n          <CarItem dataCar={car} key={car.id} />\r\n        ))}\r\n      </CartListStyle>\r\n    </>\r\n  );\r\n};\r\n","import styled from 'styled-components';\r\n\r\nexport const BtnMore = styled.button`\r\n  background-color: transparent;\r\n  border: transparent;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  color: ${({ theme: { colors } }) => colors.accentLight};\r\n  text-decoration: underline;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  line-height: 1.5;\r\n  transition: color 300ms\r\n      ${({ theme: { transition } }) => transition.timingFunction},\r\n    scale 300ms ${({ theme: { transition } }) => transition.timingFunction};\r\n\r\n  &:hover {\r\n    color: ${({ theme: { colors } }) => colors.accentDark};\r\n    scale: 1.2;\r\n  }\r\n`;\r\n","import { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { getAllCars, getAllCarsWithoutPage } from 'redux/cars/carsOperations';\r\nimport { useCars } from 'hooks';\r\nimport { clearCarsData } from 'redux/cars/carsSlice';\r\nimport { useState } from 'react';\r\nimport { Filter } from 'components/Filter';\r\nimport { CarList } from 'components/CarList';\r\nimport { BtnMore } from './Catalog.styled';\r\nimport { Loading } from 'components/Loading';\r\nimport { ContainerMain } from 'components/SharedLayout/SharedLayout.styled';\r\nimport { Error } from 'components/Error';\r\n\r\nconst Catalog = () => {\r\n  const dispatch = useDispatch();\r\n  const {\r\n    allCars,\r\n    allCarsForFilter,\r\n    onFilter,\r\n    brandFilter,\r\n    priceFilter,\r\n    mileageFrom,\r\n    mileageTo,\r\n    isLoading,\r\n    error,\r\n  } = useCars();\r\n  const [page, setPage] = useState(1);\r\n  const [showButton, setShowButton] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const height = 426;\r\n    if (allCars.length > 8) {\r\n      window.scrollBy({\r\n        top: height * 1.3,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }, [allCars]);\r\n\r\n  useEffect(() => {\r\n    dispatch(clearCarsData());\r\n    setShowButton(false);\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    dispatch(getAllCars(page));\r\n    setShowButton(true);\r\n  }, [dispatch, page]);\r\n\r\n  useEffect(() => {\r\n    if (onFilter) {\r\n      dispatch(getAllCarsWithoutPage());\r\n    }\r\n  }, [dispatch, onFilter]);\r\n\r\n  const handleLoadMoreClick = () => {\r\n    setPage(prev => prev + 1);\r\n  };\r\n\r\n  const filteredCars = allCarsForFilter.filter(car => {\r\n    let isMatch = true;\r\n    if (brandFilter) {\r\n      isMatch = car.make === brandFilter;\r\n    }\r\n    if (priceFilter) {\r\n      const match = priceFilter.match(/\\$(\\d+)/);\r\n      const matchRentalPrices = car.rentalPrice.match(/\\$(\\d+)/);\r\n      const matchPrice = match[1];\r\n      const matchRentalPrice = matchRentalPrices[1];\r\n\r\n      if (!(Number(matchPrice)>=Number(matchRentalPrice)  )) {\r\n        isMatch = false;\r\n      }\r\n    }\r\n    if (mileageFrom) {\r\n      if (!(car.mileage >= mileageFrom)) {\r\n        isMatch = false;\r\n      }\r\n    }\r\n\r\n    if (mileageTo) {\r\n      if (!(car.mileage <= mileageTo)) {\r\n        isMatch = false;\r\n      }\r\n    }\r\n\r\n    if (mileageFrom && mileageTo) {\r\n      if (!(car.mileage >= mileageFrom && car.mileage <= mileageTo)) {\r\n        isMatch = false;\r\n      }\r\n    }\r\n\r\n    return isMatch;\r\n  });\r\n\r\n  const showBtnMore =\r\n    allCars.length / 8 >= page && !isLoading && showButton && !onFilter;\r\n\r\n  const combinedCars = onFilter ? filteredCars : allCars;\r\n\r\n  return (\r\n    <ContainerMain>\r\n      {isLoading && !error && <Loading />}\r\n      <Filter /> \r\n      <section>\r\n        {filteredCars.length === 0 && onFilter ? (\r\n          <Error emptyFilter={true} />\r\n        ) : (\r\n          <CarList data={combinedCars} />\r\n        )}\r\n\r\n        {showBtnMore && (\r\n          <BtnMore onClick={handleLoadMoreClick}>Load more</BtnMore>\r\n        )}\r\n      </section>\r\n    </ContainerMain>\r\n  );\r\n};\r\n\r\nexport default Catalog;\r\n"],"names":["CarList","_ref","data","_jsx","_Fragment","children","CartListStyle","map","car","CarItem","dataCar","id","BtnMore","styled","_templateObject","_taggedTemplateLiteral","theme","colors","accentLight","_ref2","transition","timingFunction","_ref3","_ref4","accentDark","dispatch","useDispatch","_useCars","useCars","allCars","allCarsForFilter","onFilter","brandFilter","priceFilter","mileageFrom","mileageTo","isLoading","error","_useState","useState","_useState2","_slicedToArray","page","setPage","_useState3","_useState4","showButton","setShowButton","useEffect","length","window","scrollBy","top","behavior","clearCarsData","getAllCars","getAllCarsWithoutPage","filteredCars","filter","isMatch","make","match","matchRentalPrices","rentalPrice","matchPrice","matchRentalPrice","Number","mileage","showBtnMore","combinedCars","_jsxs","ContainerMain","Loading","Filter","Error","emptyFilter","onClick","prev"],"sourceRoot":""}